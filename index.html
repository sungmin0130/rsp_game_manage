<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>관리자 통계 페이지</title>
  <link rel="stylesheet" href="admin.css" />
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
</head>
<body>
  <h1>관리자 통계 페이지</h1>

  <div class="section">
    <input type="text" id="searchId" placeholder="학번 입력" />
    <button onclick="fetchStudentStats()">조회</button>
  </div>

  <div id="summary"></div>

  <table id="logTable">
    <thead><tr><th>시간</th><th>유형</th><th>내용</th></tr></thead>
    <tbody></tbody>
  </table>

  <div class="section" style="margin-top: 40px;">
    <h2>전체 사용자 랭킹</h2>
    <label>시작일: <input type="date" id="startDate"></label>
    <label>종료일: <input type="date" id="endDate"></label>
    <label>정렬 기준: 
      <select id="sortBy">
        <option value="mvpScore">🏆 MVP 점수</option>
        <option value="winRate">승률</option>
        <option value="total">총 게임</option>
        <option value="charge">충전</option>
        <option value="reward">보상</option>
        <option value="withdraw">출금</option>
      </select>
    </label>
    <button onclick="generateRanking()">랭킹 보기</button>
    <button onclick="downloadRanking()">엑셀 다운로드</button>
  </div>

  <div id="hallOfFame" class="hall-of-fame"></div>

  <table id="rankingTable">
    <thead>
      <tr>
        <th>순위</th><th>학번</th><th>총 게임</th><th>승</th><th>무</th><th>패</th>
        <th>승률</th><th>충전</th><th>보상</th><th>출금</th><th>MVP</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>

  <script src="admin.js"></script>
</body>
</html>
